"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[724],{9724:function(t,o,s){s.r(o),s.d(o,{default:function(){return $}});var c=s(3396),i=s(7139),e=s(9242);const d={class:"container"},a={class:"row mt-5"},n={class:"col-lg-6 mt-5"},r=["src"],l={class:"col-lg-6 mt-5"},u={class:"font-weight-bold text-info"},p={class:"mt-2 text-secondary"},h={class:"mt-5"},g={class:"d-flex flex-column mb-3"},m={key:0,class:"fs-6 mt-3"},_={key:1,class:"fs-5 text-danger font-weight-bold mt-3"},w={class:"d-flex mt-5"},b=(0,c._)("span",{class:"mt-2"},"請選取數量",-1),f={class:"w-25 mx-3"},v=["value"],k=(0,c._)("hr",null,null,-1),y={class:"col-md-8"},x=(0,c._)("p",{class:"mt-5 text-info"}," 【 商品說明 】 ",-1),L=["innerHTML"];function z(t,o,s,z,T,q){const C=(0,c.up)("Loading");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(C,{active:t.isLoading},null,8,["active"]),(0,c._)("div",d,[(0,c._)("div",a,[(0,c._)("div",n,[(0,c._)("img",{src:T.product.imageUrl,style:{height:"430px",width:"640px"},alt:"",class:"img-fluid mb-3"},null,8,r)]),(0,c._)("div",l,[(0,c._)("h2",u,(0,i.zw)(T.product.title),1),(0,c._)("p",p,(0,i.zw)(T.product.category),1),(0,c._)("p",h,(0,i.zw)(T.product.content),1),(0,c._)("div",g,[T.product.price?((0,c.wg)(),(0,c.iD)("del",m,"原價 "+(0,i.zw)(T.product.origin_price)+" 元",1)):(0,c.kq)("",!0),T.product.price?((0,c.wg)(),(0,c.iD)("div",_,"現在只要 "+(0,i.zw)(T.product.price)+" 元",1)):(0,c.kq)("",!0)]),(0,c._)("div",w,[b,(0,c._)("div",f,[(0,c.wy)((0,c._)("select",{name:"unit",class:"form-control me-3 rounded-0","onUpdate:modelValue":o[0]||(o[0]=t=>T.product.qty=t)},[((0,c.wg)(),(0,c.iD)(c.HY,null,(0,c.Ko)(5,(t=>(0,c._)("option",{value:t,key:t},(0,i.zw)(t)+" "+(0,i.zw)(T.product.unit),9,v))),64))],512),[[e.bM,T.product.qty]])]),(0,c._)("button",{type:"button",class:"btn btn-info me-3",onClick:o[1]||(o[1]=t=>q.addToCart(T.product.id,T.product.qty))}," 加到購物車 "),(0,c._)("button",{type:"button",class:"btn btn-warning",onClick:o[2]||(o[2]=(...t)=>q.backToProduct&&q.backToProduct(...t))}," 返回商品頁 ")])]),k,(0,c._)("div",y,[x,(0,c._)("p",{innerHTML:T.product.description},null,8,L)])])])],64)}s(7658);var T={data(){return{product:{},id:""}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/stephen-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t,o){const s="https://vue3-course-api.hexschool.io/api/stephen-api/cart",c={product_id:t,qty:o};this.isLoading=!0,this.$http.post(s,{data:c}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車")}))},backToProduct(){this.$router.push("/productView")}},created(){this.id=this.$route.params.productId,this.getProduct()}},q=s(89);const C=(0,q.Z)(T,[["render",z]]);var $=C}}]);
//# sourceMappingURL=724.1b5c1785.js.map
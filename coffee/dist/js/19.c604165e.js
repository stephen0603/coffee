"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[19],{6019:function(t,s,e){e.r(s),e.d(s,{default:function(){return j}});var i=e(3396),o=e(7139),r=e(9242);const a={class:"productWrap"},c=(0,i._)("div",{class:"text-center"},[(0,i._)("span",{class:"fs-2 p-2 text-white",style:{"background-color":"rgba(52,58,64,.8)"}},"產品訂購")],-1),l={class:"container ec-container my-5"},n=(0,i._)("div",null,[(0,i._)("div",{class:"banner text-center text-white my-4"},[(0,i._)("p",{class:"fs-3 p-2"},[(0,i.Uk)("周年慶"),(0,i._)("br"),(0,i.Uk)(" 輸入優惠碼"),(0,i._)("strong",{class:"text-dark fs-2"},"piano88"),(0,i._)("br"),(0,i.Uk)("即可享有88折優惠")])])],-1),d={key:0,class:"row"},u={class:"col-lg-2 col-md-3 mb-2"},p={class:"list-group rounded-0"},g=["onClick"],h={class:"col-lg-10 col-md-9"},_={class:"row"},w={class:"card h-100 rounded-0"},v=["onClick"],b=["src"],f={class:"card-body"},k={class:"card-title font-weight-bold text-brown"},m={class:"card-text"},C={key:0,class:"fs-6"},y={key:1,class:"fs-5 text-danger"},x={class:"card-footer border-top-0 bg-white"},D={class:"p-2 text-center"},L=["disabled","onClick"],I={key:0,class:"spinner-grow text-info spinner-grow-sm",role:"status"},U=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),q=[U],z={key:1,class:"bi bi-cart-plus","aria-hidden":"true"};function P(t,s,e,U,P,W){const $=(0,i.up)("Loading"),H=(0,i.up)("Navbar"),Y=(0,i.up)("Footer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)($,{active:t.isLoading},null,8,["active"]),(0,i._)("div",a,[(0,i.Wm)(H),c]),(0,i._)("div",l,[n,P.products.length>0?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",u,[(0,i._)("ul",p,[(0,i._)("a",{href:"#",class:(0,o.C_)(["list-group-item list-group-item-action",{active:""===P.filterCategory}]),onClick:s[0]||(s[0]=(0,r.iM)((t=>P.filterCategory=""),["prevent"]))}," 全部商品 ",2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.categories,(t=>((0,i.wg)(),(0,i.iD)("a",{class:(0,o.C_)(["list-group-item list-group-item-action",{active:t===P.filterCategory}]),href:"#",onClick:(0,r.iM)((s=>P.filterCategory=t),["prevent"]),key:t},(0,o.zw)(t),11,g)))),128))])]),(0,i._)("div",h,[(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(W.filterCategories,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-4 col-sm-6 mb-3 mb-4",key:t.id},[(0,i._)("div",w,[(0,i._)("button",{onClick:s=>W.getProduct(t.id),class:"border-0"},[(0,i._)("img",{src:t.imageUrl,class:"card-img-top",style:{width:"286",height:"200px"},alt:"..."},null,8,b)],8,v),(0,i._)("div",f,[(0,i._)("h4",k,(0,o.zw)(t.title),1),(0,i._)("p",m,[t.price?((0,i.wg)(),(0,i.iD)("del",C,"原價 "+(0,o.zw)(t.origin_price)+" 元",1)):(0,i.kq)("",!0),t.price?((0,i.wg)(),(0,i.iD)("div",y,"現在只要 "+(0,o.zw)(t.price)+" 元",1)):(0,i.kq)("",!0)])]),(0,i._)("div",x,[(0,i._)("div",D,[(0,i._)("button",{type:"button",class:"btn btn-outline-info",disabled:this.status.loadingItem===t.id,onClick:s=>W.addCart(t.id)},[this.status.loadingItem===t.id?((0,i.wg)(),(0,i.iD)("i",I,q)):((0,i.wg)(),(0,i.iD)("i",z)),(0,i.Uk)(" 加到購物車 ")],8,L)])])])])))),128))])])])):(0,i.kq)("",!0)]),(0,i.Wm)(Y)],64)}e(7658);var W=e(1288),$=e(4945),H={data(){return{products:[],product:{},categories:["淺焙","中焙","深焙","咖啡器具"],filterCategory:"",status:{loadingItem:""},cart:{}}},components:{Navbar:W.Z,Footer:$.Z},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/stephen-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,console.log("products:",t),this.isLoading=!1}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){const s="https://vue3-course-api.hexschool.io/api/stephen-api/cart";this.status.loadingItem=t;const e={product_id:t,qty:1};this.$http.post(s,{data:e}).then((t=>{this.status.loadingItem="",console.log(t)}))}},computed:{filterCategories(){return this.filterCategory?this.products.filter((t=>{const s=t.category.toLowerCase().includes(this.filterCategory.toLowerCase());return s})):this.products}},created(){this.getProducts()}},Y=e(89);const Z=(0,Y.Z)(H,[["render",P]]);var j=Z}}]);
//# sourceMappingURL=19.c604165e.js.map
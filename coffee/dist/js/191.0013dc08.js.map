{"version":3,"file":"js/191.0013dc08.js","mappings":"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","sources":["webpack://new-project/./src/views/ProductView.vue","webpack://new-project/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <div class=\"productWrap\">\r\n      <Navbar></Navbar>\r\n      <div class=\"text-center\">\r\n    <span class=\"fs-2 p-2 text-white\" style=\"background-color: rgba(52,58,64,.8);\">產品訂購</span>\r\n    </div>\r\n    </div>\r\n    <div class=\"container ec-container my-5\">\r\n      <div>\r\n      <div class=\"banner text-center text-white my-4\">\r\n        <p class=\"fs-3 p-2\">周年慶<br>\r\n          輸入優惠碼<strong class=\"text-dark fs-2\">piano88</strong>\r\n          <br>即可享有88折優惠</p>\r\n      </div>\r\n    </div>\r\n      <div class=\"row\"\r\n           v-if=\"products.length > 0\">\r\n        <div class=\"col-lg-2 col-md-3 mb-2\">\r\n          <ul class=\"list-group rounded-0\">\r\n            <a href=\"#\"\r\n               class=\"list-group-item list-group-item-action\"\r\n               @click.prevent=\"filterCategory = ''\"\r\n               :class=\"{ active: filterCategory === '' }\">\r\n              全部商品\r\n            </a>\r\n            <a class=\"list-group-item list-group-item-action\"\r\n               href=\"#\"\r\n               @click.prevent=\"filterCategory = item\"\r\n               :class=\"{ active: item === filterCategory }\"\r\n               v-for=\"item in categories\"\r\n               :key=\"item\">\r\n              {{ item }}\r\n            </a>\r\n          </ul>\r\n          \r\n        </div>\r\n        <div class=\"col-lg-10 col-md-9\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-4 col-sm-6 mb-3 mb-4\"\r\n                 v-for=\"item in filterCategories\"\r\n                 :key=\"item.id\">\r\n              <div class=\"card h-100 rounded-0\">\r\n                <button @click=\"getProduct(item.id)\" class=\"border-0\"><img :src= \"item.imageUrl\" class=\"card-img-top\" style=\"width:286;height:200px\" alt=\"...\">\r\n                </button>\r\n                \r\n                <div class=\"card-body\">\r\n                    <h4 class=\"card-title font-weight-bold text-brown\">\r\n                      {{ item.title }}\r\n                    </h4>\r\n                <p class=\"card-text\">\r\n                  <del class=\"fs-6\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\r\n                  <div class=\"fs-5 text-danger\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\r\n                </p>\r\n                </div>\r\n                <div class=\"card-footer border-top-0 bg-white\">\r\n                  <div class=\"p-2 text-center\">\r\n                <button type=\"button\" class=\"btn btn-outline-info\"\r\n                        :disabled=\"this.status.loadingItem === item.id\"\r\n                        @click=\"addCart(item.id)\">\r\n                  <i v-if=\"this.status.loadingItem === item.id\"\r\n                      class=\"spinner-grow text-info spinner-grow-sm\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </i>\r\n                  <i v-else\r\n                       class=\"bi bi-cart-plus\"\r\n                       aria-hidden=\"true\"></i>\r\n                  加到購物車\r\n                </button>\r\n                </div>\r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n <Footer></Footer>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Navbar from '@/components/Navbar.vue';\r\nimport Footer from '@/components/Footer.vue';\r\n\r\nexport default {\r\n    data() {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      categories: ['淺焙','中焙', '深焙', '咖啡器具'],\r\n      filterCategory: '',\r\n      status: {\r\n        loadingItem: '', // 對應品項 id\r\n      },\r\n      cart: {},\r\n    };\r\n    },\r\n    components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products;\r\n        console.log('products:', response);\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      this.$router.push(`/user/product/${id}`);\r\n    },\r\n    addCart(id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.status.loadingItem = id;\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1,\r\n      };\r\n      this.$http.post(url, { data: cart })\r\n        .then((res) => {\r\n          this.status.loadingItem = '';\r\n          console.log(res);\r\n        //   this.getCart();\r\n        });\r\n    },\r\n    },\r\n    computed: {\r\n    filterCategories() {\r\n      if (this.filterCategory) {\r\n        return this.products.filter((item) => {\r\n          const data = item.category\r\n            .toLowerCase()\r\n            .includes(this.filterCategory.toLowerCase());\r\n          return data;\r\n        });\r\n      }\r\n      return this.products;\r\n    },\r\n  },\r\n    created() {\r\n    this.getProducts();\r\n  \r\n  },\r\n };\r\n</script>\r\n<style>\r\n.productWrap{\r\n  overflow: hidden;\r\n  background-image: url(../assets/productviewwrap.jpg);\r\n  background-position: center center;\r\n  background-size: cover;\r\n  padding: 200px;\r\n  width: 100%;\r\n  height:auto;\r\n}\r\n.banner{\r\n  overflow: hidden;\r\n  background-image: url(../assets/banner.jpg);\r\n  background-position: center center;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height:auto;\r\n}\r\n@media screen and (min-width: 769px) {\r\n    .list-group {\r\n      position: sticky;\r\n      top: 85px;\r\n    }\r\n  }\r\n\r\n\r\n</style>","import { render } from \"./ProductView.vue?vue&type=template&id=a38aa4ce\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=a38aa4ce&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\coffee\\\\coffee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","role","_hoisted_23","_createVNode","_component_Loading","active","_ctx","_hoisted_1","_component_Navbar","_hoisted_2","_hoisted_3","_hoisted_4","$data","length","_createElementBlock","_hoisted_5","_hoisted_6","_hoisted_7","href","onClick","_Fragment","item","key","_hoisted_9","_hoisted_10","$options","id","_hoisted_11","src","imageUrl","alt","_hoisted_14","_hoisted_15","title","_hoisted_16","price","_hoisted_17","origin_price","_hoisted_18","_hoisted_19","_hoisted_20","type","disabled","status","loadingItem","_hoisted_22","_hoisted_25","_component_Footer","data","products","product","categories","filterCategory","cart","components","Navbar","Footer","methods","getProducts","url","this","isLoading","$http","get","then","response","console","log","getProduct","$router","push","addCart","product_id","qty","post","res","computed","filterCategories","filter","category","toLowerCase","includes","created","__exports__","render"],"sourceRoot":""}
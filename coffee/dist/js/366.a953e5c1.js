"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[366],{8366:function(e,t,s){s.r(t),s.d(t,{default:function(){return ce}});var r=s(3396),l=s(9242),o=s(7139);const i={class:"container"},a={class:"my-5 row justify-content-center"},d={class:"col-lg-8 step-navigation"},n=(0,r._)("div",{class:"email text-primary"},[(0,r._)("i",{class:"bi bi-envelope-fill fs-3","aria-hidden":"true"}),(0,r._)("h5",null,"確認商品")],-1),c=(0,r._)("div",{class:"name text-primary"},[(0,r._)("i",{class:"bi bi-person-fill fs-3","aria-hidden":"true"}),(0,r._)("h5",null,"填寫資料")],-1),p={key:0,class:"password text-success"},u=(0,r._)("i",{class:"bi bi-unlock-fill fs-3","aria-hidden":"true"},null,-1),h=(0,r._)("h5",null,"付款",-1),b=[u,h],_={key:1,class:"password text-primary"},m=(0,r._)("i",{class:"bi bi-unlock-fill fs-3","aria-hidden":"true"},null,-1),g=(0,r._)("h5",null,"付款",-1),w=[m,g],x={key:0,class:"col-md-6 mt-5"},f=(0,r._)("h2",{class:"text-info font-weight-bold"},"訂單完成",-1),v=(0,r._)("div",{class:"mt-4"},[(0,r._)("h5",null,"感謝訂購"),(0,r._)("p",{class:"ml-2"},"訂單完成預計1~2天出貨"),(0,r._)("div",{style:{height:"300px","background-size":"cover","background-position":"center",backgroundImage:"url('https://images.unsplash.com/photo-1495774856032-8b90bbb32b32?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80')"}})],-1),y=[f,v],k={key:1,class:"col-md-6 mt-5"},D=(0,r._)("h2",{class:"mb-5 text-info font-weight-bold"},"付款",-1),z=(0,r._)("p",null,"差一步完成訂單，點選確認付款完成訂單",-1),I=(0,r._)("p",null,"對於咖啡豆品質要求，收到訂單開始製作， 大約 1 ~ 2天出貨 ",-1),O=[D,z,I],$={class:"col-md-6 mt-4"},j=(0,r._)("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[(0,r._)("h2",{class:"text-info font-weight-bold mb-5"}," 訂單資料 ")],-1),H={class:"card-body px-4 py-0"},C={class:"list-group list-group-flush"},M={class:"d-flex mt-2"},q={class:"w-100 d-flex flex-column"},L={class:"d-flex justify-content-between font-weight-bold"},E={class:"mb-0"},W={class:"text-right"},Y={class:"mb-0"},B={class:"list-group-item px-0 pb-0"},J={class:"table"},K=(0,r._)("th",{scope:"row",class:"border-0 px-0 font-weight-normal"},"Email",-1),Q={class:"text-end border-0 px-0"},S=(0,r._)("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"},"收貨人姓名",-1),Z={class:"text-end border-0 px-0 pt-0"},A=(0,r._)("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"},"收貨人電話",-1),F={class:"text-end border-0 px-0 pt-0"},G=(0,r._)("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"},"收貨人地址",-1),N={class:"text-end border-0 px-0 pt-0"},P={class:"list-group-item px-0 pb-0"},R={class:"table"},T=(0,r._)("th",{scope:"row",class:"border-0 px-0 font-weight-normal"}," 付款金額 ",-1),U={class:"text-end border-0 px-0"},V=(0,r._)("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"},"付款狀態 ",-1),X={class:"text-end border-0 px-0 pt-0"},ee={key:0},te={key:1,class:"text-success"},se={key:0,class:"text-end"},re=(0,r._)("button",{class:"btn btn-danger"},"確認付款去",-1),le=[re],oe={key:1,class:"text-end"};function ie(e,t,s,u,h,m){const g=(0,r.up)("Lording");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(g,{active:h.isLoading},null,8,["active"]),(0,r._)("div",i,[(0,r._)("div",a,[(0,r._)("div",d,[n,c,h.order.is_paid?((0,r.wg)(),(0,r.iD)("div",_,w)):((0,r.wg)(),(0,r.iD)("div",p,b))]),h.order.is_paid?((0,r.wg)(),(0,r.iD)("div",x,y)):((0,r.wg)(),(0,r.iD)("div",k,O)),(0,r._)("div",$,[(0,r._)("form",{class:"card rounded-0 py-4 mb-2",onSubmit:t[1]||(t[1]=(0,l.iM)(((...e)=>m.payOrder&&m.payOrder(...e)),["prevent"]))},[j,(0,r._)("div",H,[(0,r._)("ul",C,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(h.order.products,(t=>((0,r.wg)(),(0,r.iD)("li",{key:t.id,class:"list-group-item px-0"},[(0,r._)("div",M,[(0,r._)("div",q,[(0,r._)("div",L,[(0,r._)("h5",null,(0,o.zw)(t.product.title),1),(0,r._)("p",E,"x"+(0,o.zw)(t.qty),1)]),(0,r._)("div",W,[(0,r._)("p",Y,(0,o.zw)(t.product.price|e.money)+"/"+(0,o.zw)(t.product.unit),1)])])])])))),128)),(0,r._)("li",B,[(0,r._)("table",J,[(0,r._)("tbody",null,[(0,r._)("tr",null,[K,(0,r._)("td",Q,(0,o.zw)(h.order.user.email),1)]),(0,r._)("tr",null,[S,(0,r._)("td",Z,(0,o.zw)(h.order.user.name),1)]),(0,r._)("tr",null,[A,(0,r._)("td",F,(0,o.zw)(h.order.user.tel),1)]),(0,r._)("tr",null,[G,(0,r._)("td",N,(0,o.zw)(h.order.user.address),1)])])])]),(0,r._)("li",P,[(0,r._)("table",R,[(0,r._)("tbody",null,[(0,r._)("tr",null,[T,(0,r._)("td",U,(0,o.zw)(h.order.total|e.money),1)]),(0,r._)("tr",null,[V,(0,r._)("td",X,[h.order.is_paid?((0,r.wg)(),(0,r.iD)("span",te,"付款完成")):((0,r.wg)(),(0,r.iD)("span",ee,"尚未付款"))])])])]),!1===h.order.is_paid?((0,r.wg)(),(0,r.iD)("div",se,le)):((0,r.wg)(),(0,r.iD)("div",oe,[(0,r._)("button",{class:"btn btn-warning",onClick:t[0]||(t[0]=(0,l.iM)(((...e)=>m.backhome&&m.backhome(...e)),["prevent"]))},"返回首頁")]))])])])],32),!1===h.order.paid?((0,r.wg)(),(0,r.iD)("a",{key:0,href:"#",onClick:t[2]||(t[2]=(0,l.iM)(((...t)=>e.backHome&&e.backHome(...t)),["prevent"])),class:"btn btn-outline-dark mr-2 rounded-0 mb-4"}," 回到首頁 ")):(0,r.kq)("",!0)])])])],64)}s(7658);var ae={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const e=`https://vue3-course-api.hexschool.io/api/stephen-api/order/${this.orderId}`;this.$http.get(e).then((e=>{e.data.success&&(this.order=e.data.order,console.log(this.order))}))},payOrder(){const e=`https://vue3-course-api.hexschool.io/api/stephen-api/pay/${this.orderId}`;this.$http.post(e).then((e=>{console.log(e),e.data.success&&this.getOrder()}))},backhome(){this.$router.push("/")}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},de=s(89);const ne=(0,de.Z)(ae,[["render",ie]]);var ce=ne}}]);
//# sourceMappingURL=366.a953e5c1.js.map